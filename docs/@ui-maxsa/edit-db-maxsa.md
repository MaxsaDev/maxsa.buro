# EditDbMaxsa - –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö –≤ –ë–î

## üìã –û–ø–∏—Å

`EditDbMaxsa` ‚Äî —Ü–µ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è inline-—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ –∑ –ø—Ä—è–º–∏–º –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º —É –±–∞–∑—É –¥–∞–Ω–∏—Ö. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–¥–∞—î –∑—Ä—É—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –º–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ –∞–±–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –Ω–∞ –æ–∫—Ä–µ–º—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.

### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ **Inline —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è** ‚Äî —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä—è–º–æ –≤ –º—ñ—Å—Ü—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- ‚úÖ **–í—ñ–∑—É–∞–ª—å–Ω–∞ –∑–≤–æ—Ä–æ—Ç–Ω–∞ –∑–≤'—è–∑–æ–∫** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—ñ–≤ (default, dirty, error)
- ‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Zod** ‚Äî –≥–Ω—É—á–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º
- ‚úÖ **–û–ø—Ç–∏–º—ñ—Å—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è** ‚Äî –º–∏—Ç—Ç—î–≤–∞ —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ –¥—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –ø–æ–ª—ñ–≤** ‚Äî text, url, textarea
- ‚úÖ **–ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è** ‚Äî –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–º—ñ–Ω–∏ —ñ–∫–æ–Ω–æ–∫ —Ç–∞ —Å—Ç–∏–ª—ñ–≤
- ‚úÖ **Accessibility** ‚Äî –ø–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ ARIA –∞—Ç—Ä–∏–±—É—Ç—ñ–≤

---

## üéØ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—Ö –ø–∞–Ω–µ–ª—è—Ö —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è, –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —à–≤–∏–¥–∫–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –±–µ–∑ –∑–∞–π–≤–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤. –Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è:

- –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞–∑–≤ –ø—É–Ω–∫—Ç—ñ–≤ –º–µ–Ω—é
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è URL –∞–¥—Ä–µ—Å
- –ó–º—ñ–Ω–∞ –æ–ø–∏—Å—ñ–≤ —Ç–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
- –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –º–µ—Ç–∞–¥–∞–Ω–∏—Ö

---

## üì¶ –Ü–º–ø–æ—Ä—Ç

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';
```

---

## üîß API (Props)

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø—Ä–æ–ø—Å–∏

#### `id: number | string`

**–¢–∏–ø:** `number | string`
**–û–ø–∏—Å:** –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å—É –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö. –ú–æ–∂–µ –±—É—Ç–∏ —á–∏—Å–ª–æ–º (–¥–ª—è —Ç–∞–±–ª–∏—Ü—å –∑ —á–∏—Å–ª–æ–≤–∏–º–∏ ID) –∞–±–æ —Ä—è–¥–∫–æ–º (–¥–ª—è UUID). –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –≤ Server Action –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
// –ß–∏—Å–ª–æ–≤–∏–π ID
<EditDbMaxsa id={123} ... />

// UUID (—Ä—è–¥–æ–∫)
<EditDbMaxsa id="550e8400-e29b-41d4-a716-446655440000" ... />
```

**–í–∞–∂–ª–∏–≤–æ:** –¢–∏–ø ID –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤–∞—à–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –î–ª—è —Ç–∞–±–ª–∏—Ü—å –∑ —á–∏—Å–ª–æ–≤–∏–º–∏ ID –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `number`, –¥–ª—è —Ç–∞–±–ª–∏—Ü—å –∑ UUID - `string`.

---

#### `value: string`

**–¢–∏–ø:** `string`
**–û–ø–∏—Å:** –ü–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è, —è–∫–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤ input. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è –∑ —Ü–∏–º –ø—Ä–æ–ø—Å–æ–º –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö –∑ —Å–µ—Ä–≤–µ—Ä–∞.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
<EditDbMaxsa value={item.title} ... />
```

**–í–∞–∂–ª–∏–≤–æ:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `useEffect` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑ –ø—Ä–æ–ø—Å–æ–º `value`. –Ø–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–∏–ª–æ—Å—è –∑–∑–æ–≤–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Server Action), –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–∏—Ç—å –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω, –∞–ª–µ —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (–Ω–µ –º–∞—î –Ω–µ–∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –∑–º—ñ–Ω).

---

#### `schema: z.ZodSchema<string>`

**–¢–∏–ø:** `z.ZodSchema<string>`
**–û–ø–∏—Å:** Zod —Å—Ö–µ–º–∞ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –∑–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏".

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
import { z } from 'zod';

const titleSchema = z
  .string()
  .min(1, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é' })
  .max(200, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–æ—é –∑–∞ 200 —Å–∏–º–≤–æ–ª—ñ–≤' });

<EditDbMaxsa schema={titleSchema} ... />
```

**–í–∞–∂–ª–∏–≤–æ:**

- –°—Ö–µ–º–∞ –ø–æ–≤–∏–Ω–Ω–∞ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ `string` —Ç–∏–ø
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –±–µ—Ä—É—Ç—å—Å—è –∑ –ø–µ—Ä—à–æ—ó –ø–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó (`formErrors[0]`)
- –Ø–∫—â–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É —Ç–∞ –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î `onSave`

---

#### `onSave: (id: number | string, value: string) => Promise<ActionStatus>`

**–¢–∏–ø:** `(id: number | string, value: string) => Promise<ActionStatus>`
**–û–ø–∏—Å:** Server Action —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏". –ü–æ–≤–∏–Ω–Ω–∞ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `Promise<ActionStatus>`. –ü–∞—Ä–∞–º–µ—Ç—Ä `id` –º–æ–∂–µ –±—É—Ç–∏ —á–∏—Å–ª–æ–º –∞–±–æ —Ä—è–¥–∫–æ–º (UUID) –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–∏–ø—É ID –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
import { updateMenuTitleAction } from '@/actions/mx-admin/menu/update-menu-fields';

<EditDbMaxsa onSave={updateMenuTitleAction} ... />
```

**–§–æ—Ä–º–∞—Ç ActionStatus:**

```typescript
interface ActionStatus {
  status: 'success' | 'error' | 'warning' | 'info';
  message: string;
  code?: string;
}
```

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**

- –§—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ Zod —Å—Ö–µ–º—É
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–∫–∞–∑—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ `showNotification`
- –ü—Ä–∏ `status === 'success'` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–Ω–æ–≤–ª—é—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω —Ç–∞ –ø—Ä–∏–±–∏—Ä–∞—î dirty state
- –ü—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–ª–∏—à–∞—î –≤–≤–µ–¥–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ç–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑

---

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø—Ä–æ–ø—Å–∏

#### `placeholder?: string`

**–¢–∏–ø:** `string | undefined`
**–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** `undefined`
**–û–ø–∏—Å:** –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è –ø–æ–ª—è –≤–≤–æ–¥—É. –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –∫–æ–ª–∏ –ø–æ–ª–µ –ø–æ—Ä–æ–∂–Ω—î.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
<EditDbMaxsa placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –ø—É–Ω–∫—Ç—É –º–µ–Ω—é" ... />
```

---

#### `type?: 'text' | 'url' | 'textarea'`

**–¢–∏–ø:** `'text' | 'url' | 'textarea'`
**–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** `'text'`
**–û–ø–∏—Å:** –¢–∏–ø –ø–æ–ª—è –≤–≤–æ–¥—É.

**–í–∞—Ä—ñ–∞–Ω—Ç–∏:**

- `'text'` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ (input type="text")
- `'url'` ‚Äî –ø–æ–ª–µ –¥–ª—è URL (input type="url")
- `'textarea'` ‚Äî –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–µ —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
<EditDbMaxsa type="url" ... />
<EditDbMaxsa type="textarea" ... />
```

**–í–∞–∂–ª–∏–≤–æ:**

- –î–ª—è `type="url"` –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—É –≤–∞–ª—ñ–¥–∞—Ü—ñ—é —Ñ–æ—Ä–º–∞—Ç—É URL
- –î–ª—è `type="textarea"` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `InputGroupTextarea`, —è–∫–∏–π –º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –≤–∏—Å–æ—Ç—É

---

#### `disabled?: boolean`

**–¢–∏–ø:** `boolean`
**–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** `false`
**–û–ø–∏—Å:** –ë–ª–æ–∫—É—î —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø–æ–ª—è. –ü–æ–ª–µ —Å—Ç–∞—î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–∞ –∫–Ω–æ–ø–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/—Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
<EditDbMaxsa disabled={isLoading} ... />
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `useState(isLoading)` –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è. –¶–µ –ø—Ä–æ—Å—Ç–∏–π —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —è–∫–∏–π –∫–µ—Ä—É—î –≤–ª–∞—Å–Ω–∏–º —Å—Ç–∞–Ω–æ–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

**–í–∞–∂–ª–∏–≤–æ:** –ü–æ–ª–µ —Ç–∞–∫–æ–∂ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±–ª–æ–∫—É—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (`isLoading === true`).

---

#### `className?: string`

**–¢–∏–ø:** `string | undefined`
**–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** `undefined`
**–û–ø–∏—Å:** –î–æ–¥–∞—Ç–∫–æ–≤—ñ CSS –∫–ª–∞—Å–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `InputGroup`. –î–æ–∑–≤–æ–ª—è—î –∫–∞—Å—Ç–æ–º—ñ–∑—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –≤–∏–≥–ª—è–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
<EditDbMaxsa className="w-full max-w-md" ... />
```

**–í–∞–∂–ª–∏–≤–æ:** –ö–ª–∞—Å–∏ –¥–æ–¥–∞—é—Ç—å—Å—è –¥–æ `InputGroup`, –∞ –Ω–µ –¥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ input. –î–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó —Å–∞–º–æ–≥–æ input –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–∏ –∞–±–æ –º–æ–¥–∏—Ñ—ñ–∫—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

---

#### `saveIcon?: React.ReactNode`

**–¢–∏–ø:** `React.ReactNode | undefined`
**–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** `<Check className="size-4" />`
**–û–ø–∏—Å:** –ö–∞—Å—Ç–æ–º–Ω–∞ —ñ–∫–æ–Ω–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —ñ–∫–æ–Ω–∫–∞ `Check` –∑ `lucide-react`.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
import { Save } from 'lucide-react';

<EditDbMaxsa saveIcon={<Save className="size-4" />} ... />
```

---

#### `cancelIcon?: React.ReactNode`

**–¢–∏–ø:** `React.ReactNode | undefined`
**–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:** `<X className="size-4" />`
**–û–ø–∏—Å:** –ö–∞—Å—Ç–æ–º–Ω–∞ —ñ–∫–æ–Ω–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —ñ–∫–æ–Ω–∫–∞ `X` –∑ `lucide-react`.

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
import { XCircle } from 'lucide-react';

<EditDbMaxsa cancelIcon={<XCircle className="size-4" />} ... />
```

---

## üé® –°—Ç–∞–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–∞—î —Ç—Ä–∏ –≤—ñ–∑—É–∞–ª—å–Ω—ñ —Å—Ç–∞–Ω–∏, —è–∫—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

### 1. Default (—Å—Ç–∞–Ω –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)

**–£–º–æ–≤–∞:** –ó–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –∑–º—ñ–Ω—é–≤–∞–ª–æ—Å—è (`isDirty === false`)
**–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π border –∑ –∫–æ–ª—å–æ—Ä–æ–º `border-input`
**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:** –ö–Ω–æ–ø–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/—Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è

### 2. Dirty (—Å—Ç–∞–Ω —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è)

**–£–º–æ–≤–∞:** –ó–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–µ–Ω–µ, –∞–ª–µ —â–µ –Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–µ (`isDirty === true && hasError === false`)
**–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π border (`border-orange-100` –≤ —Å–≤—ñ—Ç–ª—ñ–π —Ç–µ–º—ñ, `border-orange-900` –≤ —Ç–µ–º–Ω—ñ–π)
**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:** –í—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏" —Ç–∞ "–°–∫–∞—Å—É–≤–∞—Ç–∏"

### 3. Error (—Å—Ç–∞–Ω –ø–æ–º–∏–ª–∫–∏)

**–£–º–æ–≤–∞:** –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –∞–±–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (`hasError === true`)
**–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ß–µ—Ä–≤–æ–Ω–∏–π border (`border-red-500`) —á–µ—Ä–µ–∑ –≤–±—É–¥–æ–≤–∞–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É `aria-invalid` –≤ `InputGroup`
**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**

- –í—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏" —Ç–∞ "–°–∫–∞—Å—É–≤–∞—Ç–∏"
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –æ–ø–∏—Å–æ–º –ø–æ–º–∏–ª–∫–∏
- –ü–æ–º–∏–ª–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ `aria-describedby` –¥–ª—è screen readers

---

## üîÑ –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

### –ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

1. **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç—Ä–∏–º—É—î `value` –∑ –ø—Ä–æ–ø—Å—ñ–≤
   - –ó–±–µ—Ä—ñ–≥–∞—î –π–æ–≥–æ –≤ `originalValue` (–¥–ª—è –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤—ñ–¥–∫–∞—Ç—É)
   - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î `currentValue` (–ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ input)

2. **–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è**
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–º—ñ–Ω—é—î –∑–Ω–∞—á–µ–Ω–Ω—è –≤ input
   - `currentValue` –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `handleChange`
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ —Å—Ç–∞–Ω `dirty`
   - –í—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏" —Ç–∞ "–°–∫–∞—Å—É–≤–∞—Ç–∏"
   - Border —Å—Ç–∞—î –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–º

3. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è**
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É "–ó–±–µ—Ä–µ–≥—Ç–∏"
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∞–ª—ñ–¥—É—î –∑–Ω–∞—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Zod —Å—Ö–µ–º—É
   - **–Ø–∫—â–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞:**
     - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è `validationError`
     - Border —Å—Ç–∞—î —á–µ—Ä–≤–æ–Ω–∏–º
     - –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è toast –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
     - `onSave` –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è
   - **–Ø–∫—â–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–æ–π–¥–µ–Ω–∞:**
     - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è `isLoading = true`
     - –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `onSave(id, validatedValue)`
     - –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è toast –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
     - **–ü—Ä–∏ —É—Å–ø—ñ—Ö—É:**
       - `originalValue` –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è
       - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –≤ —Å—Ç–∞–Ω `default`
       - `isLoading` —Å—Ç–∞—î `false` –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
     - **–ü—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ:**
       - –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ input
       - –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞
       - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ç–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑
       - `isLoading` —Å—Ç–∞—î `false` –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

4. **–°–∫–∞—Å—É–≤–∞–Ω–Ω—è**
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É "–°–∫–∞—Å—É–≤–∞—Ç–∏"
   - `currentValue` –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –¥–æ `originalValue`
   - `validationError` –æ—á–∏—â–∞—î—Ç—å—Å—è
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –≤ —Å—Ç–∞–Ω `default`

5. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ –ø—Ä–æ–ø—Å–æ–º**
   - –ü—Ä–∏ –∑–º—ñ–Ω—ñ –ø—Ä–æ–ø—Å–∞ `value` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ—Å–ª—è revalidation —Å—Ç–æ—Ä—ñ–Ω–∫–∏)
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—ñ–Ω –≤ —Å—Ç–∞–Ω—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
   - –Ø–∫—â–æ `!isDirty`, –æ–Ω–æ–≤–ª—é—î `originalValue` —Ç–∞ `currentValue`
   - –Ø–∫—â–æ `isDirty`, –∑–º—ñ–Ω–∏ –∑ –ø—Ä–æ–ø—Å–∞ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –Ω–µ–∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∑–º—ñ–Ω–∏)

---

## üí° –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ë–∞–∑–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';
import { z } from 'zod';
import { updateMenuTitleAction } from '@/actions/mx-admin/menu/update-menu-fields';

// –°—Ö–µ–º–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
const titleSchema = z
  .string()
  .min(1, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é' })
  .max(200, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–æ—é –∑–∞ 200 —Å–∏–º–≤–æ–ª—ñ–≤' });

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
function MenuItem({ item }: { item: MenuItem }) {
  return (
    <EditDbMaxsa
      id={item.id}
      value={item.title}
      schema={titleSchema}
      onSave={updateMenuTitleAction}
      placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –ø—É–Ω–∫—Ç—É –º–µ–Ω—é"
      type="text"
    />
  );
}
```

---

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è URL

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';
import { menuUrlSchema } from '@/schemas/mx-admin/menu-schema';
import { updateMenuUrlAction } from '@/actions/mx-admin/menu/update-menu-fields';

function MenuItem({ item }: { item: MenuItem }) {
  return (
    <EditDbMaxsa
      id={item.id}
      value={item.url}
      schema={menuUrlSchema}
      onSave={updateMenuUrlAction}
      placeholder="/dashboard"
      type="url"
    />
  );
}
```

---

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º–∏ —ñ–∫–æ–Ω–∫–∞–º–∏

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';
import { Save, RotateCcw } from 'lucide-react';

function CustomEditField({ item }: { item: Item }) {
  return (
    <EditDbMaxsa
      id={item.id}
      value={item.description}
      schema={descriptionSchema}
      onSave={updateDescriptionAction}
      saveIcon={<Save className="size-4" />}
      cancelIcon={<RotateCcw className="size-4" />}
      type="textarea"
    />
  );
}
```

---

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤ —Å–ø–∏—Å–∫—É –∑ –∫—ñ–ª—å–∫–æ–º–∞ –ø–æ–ª—è–º–∏

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';
import { menuTitleSchema, menuUrlSchema } from '@/schemas/mx-admin/menu-schema';
import {
  updateMenuTitleAction,
  updateMenuUrlAction,
} from '@/actions/mx-admin/menu/update-menu-fields';

function MenuItemCard({ item }: { item: MenuItem }) {
  return (
    <div className="space-y-2">
      <EditDbMaxsa
        id={item.id}
        value={item.title}
        schema={menuTitleSchema}
        onSave={updateMenuTitleAction}
        placeholder="–ù–∞–∑–≤–∞ –ø—É–Ω–∫—Ç—É –º–µ–Ω—é"
        type="text"
      />
      <EditDbMaxsa
        id={item.id}
        value={item.url}
        schema={menuUrlSchema}
        onSave={updateMenuUrlAction}
        placeholder="URL –ø—É–Ω–∫—Ç—É –º–µ–Ω—é"
        type="url"
      />
    </div>
  );
}
```

---

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑ –æ–±—Ä–æ–±–∫–æ—é —Å—Ç–∞–Ω—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–µ—Ä—É—î —Å—Ç–∞–Ω–æ–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `useState(isLoading)`, —Ç–æ–º—É –¥–æ–¥–∞—Ç–∫–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –ø–æ–ª–µ –∑–∑–æ–≤–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–æ–ø `disabled`:

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';

function EditableField({ item, isExternalLoading }: { item: Item; isExternalLoading: boolean }) {
  return (
    <EditDbMaxsa
      id={item.id}
      value={item.title}
      schema={titleSchema}
      onSave={updateItemAction}
      disabled={isExternalLoading}
    />
  );
}
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `useState(isLoading)` –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è. –¶–µ –ø—Ä–æ—Å—Ç–∏–π —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —è–∫–∏–π –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É.

````

---

## üîå –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Server Actions

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Server Action

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—á—ñ–∫—É—î, —â–æ `onSave` –±—É–¥–µ Server Action –∑ –Ω–∞—Å—Ç—É–ø–Ω–æ—é —Å–∏–≥–Ω–∞—Ç—É—Ä–æ—é:

```typescript
async function updateItemAction(id: number | string, value: string): Promise<ActionStatus> {
  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
  const user = await getCurrentUser();
  if (!user) {
    return {
      status: 'error',
      message: '–í–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ',
      code: 'UNAUTHORIZED',
    };
  }

  // –í–∞–ª—ñ–¥–∞—Ü—ñ—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, —Ç–∞–∫ —è–∫ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–∂–µ –ø—Ä–æ–π—à–ª–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ)
  const validation = schema.safeParse(value);
  if (!validation.success) {
    return {
      status: 'error',
      message: '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è',
      code: 'VALIDATION_ERROR',
    };
  }

  try {
    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤ –ë–î
    await updateItemInDb(id, validation.data);

    // –†–µ–≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    revalidatePath('/path-to-page');

    return {
      status: 'success',
      message: '–î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ',
    };
  } catch (error) {
    return {
      status: 'error',
      message: error instanceof Error ? error.message : '–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è',
      code: 'DB_ERROR',
    };
  }
}
````

### –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤–Ω–æ—ó —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

**1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó –≤ `data/mx-dic/menu-admin.ts`:**

```typescript
// –î–ª—è —á–∏—Å–ª–æ–≤–∏—Ö ID
export async function updateMenuUserItemsTitle(id: number, title: string): Promise<void> {
  try {
    const sql = `
      UPDATE mx_dic.menu_user_items
      SET title = $1
      WHERE id = $2
    `;
    await pool.query(sql, [title, id]);
  } catch (error) {
    console.error('[updateMenuUserItemsTitle] –ü–æ–º–∏–ª–∫–∞:', error);
    throw new Error('–ù–µ –≤–¥–∞–ª–æ—Å—è –æ–Ω–æ–≤–∏—Ç–∏ –Ω–∞–∑–≤—É –ø—É–Ω–∫—Ç—É –º–µ–Ω—é');
  }
}
```

**2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Server Action –≤ `actions/mx-admin/menu/update-menu-fields.ts`:**

```typescript
'use server';

import { revalidatePath } from 'next/cache';
import { updateMenuUserItemsTitle } from '@/data/mx-dic/menu-admin';
import { getCurrentUser } from '@/lib/auth/auth-server';
import { menuTitleSchema } from '@/schemas/mx-admin/menu-schema';

export async function updateMenuUserItemsTitleAction(
  id: number | string,
  title: string
): Promise<ActionStatus> {
  try {
    const admin = await getCurrentUser();
    if (!admin || admin.role !== 'admin') {
      return {
        status: 'error',
        message: '–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ',
        code: 'FORBIDDEN',
      };
    }

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É ID (–¥–ª—è –º–µ–Ω—é ID –∑–∞–≤–∂–¥–∏ —á–∏—Å–ª–æ)
    const menuId = typeof id === 'number' ? id : Number(id);
    if (isNaN(menuId)) {
      return {
        status: 'error',
        message: '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π ID –ø—É–Ω–∫—Ç—É –º–µ–Ω—é',
        code: 'VALIDATION_ERROR',
      };
    }

    const validation = menuTitleSchema.safeParse(title);
    if (!validation.success) {
      return {
        status: 'error',
        message: validation.error.flatten().formErrors[0] || '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∞ –Ω–∞–∑–≤–∞',
        code: 'VALIDATION_ERROR',
      };
    }

    await updateMenuUserItemsTitle(menuId, validation.data);
    revalidatePath('/mx-admin/menu-app');

    return {
      status: 'success',
      message: '–ù–∞–∑–≤—É –ø—É–Ω–∫—Ç—É –º–µ–Ω—é —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ',
    };
  } catch (error) {
    return {
      status: 'error',
      message: error instanceof Error ? error.message : '–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è',
      code: 'DB_ERROR',
    };
  }
}
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –Ø–∫—â–æ –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤ `data` –ø—Ä–∏–π–º–∞—î —Ç—ñ–ª—å–∫–∏ `number`, –¥–æ–¥–∞–π—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∏–ø—É —Ç–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é –≤ Server Action. –î–ª—è UUID (—Ä—è–¥–∫–∏) –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–∏–ø —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—è–¥–æ–∫ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ.

**3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ:**

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';
import { menuTitleSchema } from '@/schemas/mx-admin/menu-schema';
import { updateMenuUserItemsTitleAction } from '@/actions/mx-admin/menu/update-menu-fields';

<EditDbMaxsa
  id={item.id}
  value={item.title}
  schema={menuTitleSchema}
  onSave={updateMenuUserItemsTitleAction}
/>
```

---

## ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è

### –ü—Ä–∏–Ω—Ü–∏–ø–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

1. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ "–ó–±–µ—Ä–µ–≥—Ç–∏"**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –≤–∞–ª—ñ–¥—É—î –∑–Ω–∞—á–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å –≤–≤–µ–¥–µ–Ω–Ω—è
   - –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –≤—ñ–ª—å–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –±–µ–∑ –ø–æ—Å—Ç—ñ–π–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫

2. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Zod —Å—Ö–µ–º—É**
   - –°—Ö–µ–º–∞ –ø–æ–≤–∏–Ω–Ω–∞ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ `string` —Ç–∏–ø
   - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –±–µ—Ä—É—Ç—å—Å—è –∑ `formErrors[0]`

3. **–ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ**
   - Border —Å—Ç–∞—î —á–µ—Ä–≤–æ–Ω–∏–º
   - –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è toast –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º
   - –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ input –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
   - `onSave` –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è

### –ü—Ä–∏–∫–ª–∞–¥–∏ —Å—Ö–µ–º –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

**–ü—Ä–æ—Å—Ç–∞ —Å—Ö–µ–º–∞ –¥–ª—è –Ω–∞–∑–≤–∏:**

```typescript
import { z } from 'zod';

const titleSchema = z
  .string()
  .min(1, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é' })
  .max(200, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–æ—é –∑–∞ 200 —Å–∏–º–≤–æ–ª—ñ–≤' });
```

**–°—Ö–µ–º–∞ –∑ regex:**

```typescript
const urlSchema = z.string().refine(
  (val) => {
    if (val.trim() === '') return true;
    if (val.startsWith('/')) return true;
    try {
      new URL(val);
      return true;
    } catch {
      return false;
    }
  },
  { message: '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π URL' }
);
```

**–°—Ö–µ–º–∞ –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞–º–∏:**

```typescript
const descriptionSchema = z
  .string()
  .min(10, { message: '–û–ø–∏—Å –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 10 —Å–∏–º–≤–æ–ª—ñ–≤' })
  .max(1000, { message: '–û–ø–∏—Å –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–∏–º –∑–∞ 1000 —Å–∏–º–≤–æ–ª—ñ–≤' })
  .refine((val) => val.trim().length >= 10, {
    message: '–û–ø–∏—Å –Ω–µ –º–æ–∂–µ —Å–∫–ª–∞–¥–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ –∑ –ø—Ä–æ–±—ñ–ª—ñ–≤',
  });
```

---

## üéØ –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ö–µ–º –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

‚úÖ **–î–æ–±—Ä–µ:**

```typescript
// schemas/mx-admin/menu-schema.ts
export const menuTitleSchema = z
  .string()
  .min(1, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é' })
  .max(200, { message: '–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–æ—é –∑–∞ 200 —Å–∏–º–≤–æ–ª—ñ–≤' });
```

‚ùå **–ü–æ–≥–∞–Ω–æ:**

```typescript
// –ù–µ —Å—Ç–≤–æ—Ä—é–π—Ç–µ —Å—Ö–µ–º—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ
<EditDbMaxsa schema={z.string().min(1)} ... />
```

### 2. –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –≤ Server Actions

‚úÖ **–î–æ–±—Ä–µ:**

```typescript
export async function updateItemAction(id: number | string, value: string): Promise<ActionStatus> {
  try {
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
    const user = await getCurrentUser();
    if (!user) {
      return {
        status: 'error',
        message: '–í–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ',
        code: 'UNAUTHORIZED',
      };
    }

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É ID (—è–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è –≤ data –ø—Ä–∏–π–º–∞—î —Ç—ñ–ª—å–∫–∏ number)
    // –î–ª—è UUID (string) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ
    const itemId = typeof id === 'number' ? id : Number(id);
    if (isNaN(itemId)) {
      return {
        status: 'error',
        message: '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π ID',
        code: 'VALIDATION_ERROR',
      };
    }

    // –í–∞–ª—ñ–¥–∞—Ü—ñ—è
    const validation = schema.safeParse(value);
    if (!validation.success) {
      return {
        status: 'error',
        message: validation.error.flatten().formErrors[0],
        code: 'VALIDATION_ERROR',
      };
    }

    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è
    await updateInDb(itemId, validation.data);
    revalidatePath('/path');

    return {
      status: 'success',
      message: '–î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ',
    };
  } catch (error) {
    return {
      status: 'error',
      message: error instanceof Error ? error.message : '–ü–æ–º–∏–ª–∫–∞',
      code: 'DB_ERROR',
    };
  }
}
```

### 3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ —Å–ø–∏—Å–∫–∞—Ö

‚úÖ **–î–æ–±—Ä–µ:**

```typescript
function MenuList({ items }: { items: MenuItem[] }) {
  return (
    <div className="space-y-4">
      {items.map((item) => (
        <div key={item.id} className="space-y-2">
          <EditDbMaxsa
            id={item.id}
            value={item.title}
            schema={menuTitleSchema}
            onSave={updateTitleAction}
          />
          <EditDbMaxsa
            id={item.id}
            value={item.url}
            schema={menuUrlSchema}
            onSave={updateUrlAction}
          />
        </div>
      ))}
    </div>
  );
}
```

### 4. –£–Ω–∏–∫–∞–π—Ç–µ –∑–∞–π–≤–∏—Ö —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ñ–≤

‚úÖ **–î–æ–±—Ä–µ:**

```typescript
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ useMemo –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å
const sortedItems = useMemo(() => items.sort((a, b) => a.sort_order - b.sort_order), [items]);
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è

**–ü—Ä–∏—á–∏–Ω–∞:** Server Action –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î `revalidatePath` –∞–±–æ –¥–∞–Ω—ñ –Ω–µ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ Server Action –≤–∏–∫–ª–∏–∫–∞—î `revalidatePath('/path-to-page')`
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –¥–∞–Ω—ñ –¥—ñ–π—Å–Ω–æ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –≤ –ë–î
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–Ω—ñ `dirty` (–Ω–µ–∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∑–º—ñ–Ω–∏ –±–ª–æ–∫—É—é—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –Ω–µ –∑–Ω–∏–∫–∞—î –ø—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—á–∏—â–∞—î –ø–æ–º–∏–ª–∫—É –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ. –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –Ω–µ –∑–Ω–∏–∫–∞—î, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥—ñ–∫—É –≤ `handleChange`.

**–†—ñ—à–µ–Ω–Ω—è:** –¶–µ –º–∞—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ. –Ø–∫—â–æ –Ω—ñ, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î `setValidationError(null)` –≤ `handleChange`.

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∏ –Ω–µ –∑'—è–≤–ª—è—é—Ç—å—Å—è –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–∂–ª–∏–≤–æ, –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è (–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è `currentValue !== originalValue`).

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î `handleChange`
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `isDirty` –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–º–∏–ª–∫–∞ TypeScript –∑ Zod —Å—Ö–µ–º–æ—é

**–ü—Ä–∏—á–∏–Ω–∞:** Zod —Å—Ö–µ–º–∞ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ç–∏–ø—É `z.ZodSchema<string>`.

**–†—ñ—à–µ–Ω–Ω—è:**

```typescript
// –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Å—Ö–µ–º–∞ –≤–∞–ª—ñ–¥—É—î string
const schema = z.string().min(1); // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

// –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ–Ω—à—ñ —Ç–∏–ø–∏
const schema = z.number(); // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

---

## üìö –ü–æ–≤'—è–∑–∞–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

- `InputGroup` ‚Äî –±–∞–∑–æ–≤–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è input —Ç–∞ –∫–Ω–æ–ø–æ–∫
- `InputGroupInput` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è
- `InputGroupTextarea` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–æ–≥–æ –ø–æ–ª—è
- `InputGroupButton` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ InputGroup

---

## üîó –ü–æ–≤'—è–∑–∞–Ω—ñ —Ñ–∞–π–ª–∏

- `components/ui-maxsa/edit-db-maxsa.tsx` ‚Äî —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `lib/notifications.ts` ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è `showNotification` –¥–ª—è –ø–æ–∫–∞–∑—É toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- `interfaces/action-status.ts` ‚Äî —Ç–∏–ø `ActionStatus` –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ Server Actions

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `'use client'` –¥–∏—Ä–µ–∫—Ç–∏–≤—É, —Ç–æ–º—É –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ –≤ Client Components
- –î–ª—è Server Components —Å—Ç–≤–æ—Ä—ñ—Ç—å –æ–±–≥–æ—Ä—Ç–∫—É –∑ Client Component
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è –∑ –ø—Ä–æ–ø—Å–æ–º `value`, –∞–ª–µ —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –Ω–µ–º–∞—î –Ω–µ–∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –∑–º—ñ–Ω
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ "–ó–±–µ—Ä–µ–≥—Ç–∏", –Ω–µ –ø—ñ–¥ —á–∞—Å –≤–≤–µ–¥–µ–Ω–Ω—è
- –ü–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—â–∞—é—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è

---

## üöÄ –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

–ú–æ–∂–ª–∏–≤—ñ –º–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ debounce –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –ø—ñ–¥ —á–∞—Å –≤–≤–µ–¥–µ–Ω–Ω—è
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∞–≤—Ç–æ-–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Ç–∞–π–º–µ—Ä
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω–∏—Ö —Å–∫–æ—Ä–æ—á–µ–Ω—å (Ctrl+S –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è, Esc –¥–ª—è —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è)
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫–æ–Ω—Ñ—ñ—Ä–º–∞—Ü—ñ—ó –ø–µ—Ä–µ–¥ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è–º –ø—Ä–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –Ω–µ–∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –∑–º—ñ–Ω
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–∏—Ö –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä—ñ–≤ –æ–∫—Ä—ñ–º Zod

---

## üîÑ –ó–º—ñ–Ω–∏ –≤ –≤–µ—Ä—Å—ñ—ó

### –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ UUID (string ID)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–µ–ø–µ—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ —á–∏—Å–ª–æ–≤—ñ ID (`number`), —Ç–∞–∫ —ñ UUID (`string`). –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ —Ç–∞–±–ª–∏—Ü—å –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö:

- **–ß–∏—Å–ª–æ–≤—ñ ID** - –¥–ª—è —Ç–∞–±–ª–∏—Ü—å –∑ –∞–≤—Ç–æ—ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω–∏–º–∏ ID (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `menu_user_items`)
- **UUID** - –¥–ª—è —Ç–∞–±–ª–∏—Ü—å –∑ UUID –ø–µ—Ä–≤–∏–Ω–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `user_data`)

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ UUID:**

```typescript
import { EditDbMaxsa } from '@/components/ui-maxsa/edit-db-maxsa';
import { fullNameSchema } from '@/schemas/profile/personal-data-schema';
import { updateFullNameByIdAction } from '@/actions/profile/update-full-name';

function PersonalDataSection({ userData }: { userData: UserData }) {
  return (
    <EditDbMaxsa
      id={userData.id} // UUID (string)
      value={userData.full_name}
      schema={fullNameSchema}
      onSave={updateFullNameByIdAction}
      placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–æ–≤–Ω–µ —ñ–º º—è"
      type="text"
    />
  );
}
```

**–í–∞–∂–ª–∏–≤–æ:** Server Action –ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ç–∏–ø ID —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –≤–∏–∫–ª–∏–∫–æ–º —Ñ—É–Ω–∫—Ü—ñ–π —Ä–æ–±–æ—Ç–∏ –∑ –ë–î. –î–ª—è UUID –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—è–¥–æ–∫ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ, –¥–ª—è —á–∏—Å–ª–æ–≤–∏—Ö ID - –∫–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ —Ä—è–¥–æ–∫ –≤ —á–∏—Å–ª–æ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é.

**–ü—Ä–∏–∫–ª–∞–¥ Server Action –¥–ª—è UUID:**

```typescript
export async function updateFullNameByIdAction(
  userDataId: number | string,
  fullName: string
): Promise<ActionStatus> {
  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—É ID (–¥–ª—è user_data ID –∑–∞–≤–∂–¥–∏ —Å—Ç—Ä–æ–∫–∞ UUID)
  if (typeof userDataId !== 'string') {
    return {
      status: 'error',
      message: '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ç–∏–ø ID',
      code: 'VALIDATION_ERROR',
    };
  }

  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —â–æ user_data_id –Ω–∞–ª–µ–∂–∏—Ç—å –ø–æ—Ç–æ—á–Ω–æ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
  const userData = await getUserDataByUserId(user.id);
  if (!userData || userData.id !== userDataId) {
    return {
      status: 'error',
      message: '–ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ —Ü—å–æ–≥–æ –∑–∞–ø–∏—Å—É',
      code: 'FORBIDDEN',
    };
  }

  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤ –ë–î
  await updateUserDataFullName(user.id, validation.data);
  // ...
}
```

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-01-19
