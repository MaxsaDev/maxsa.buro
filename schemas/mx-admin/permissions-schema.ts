import { z } from 'zod';

/**
 * Схема валідації для назви категорії/пункту повноваження
 *
 * Правила:
 * - Мінімум 1 символ, максимум 200
 * - Дозволені українські та латинські літери, цифри, пробіли, дефіси, підкреслення
 * - Не може бути тільки пробілами
 */
export const permissionTitleSchema = z
  .string()
  .min(1, { message: 'Назва не може бути порожньою' })
  .max(200, { message: 'Назва не може бути довшою за 200 символів' })
  .refine(
    (val) => {
      // Перевірка що не тільки пробіли
      return val.trim().length >= 1;
    },
    { message: 'Назва не може складатися тільки з пробілів' }
  );

/**
 * Схема валідації для опису категорії/пункту повноваження
 *
 * Правила:
 * - Може бути порожнім (null)
 * - Максимум 1000 символів
 */
export const permissionDescriptionSchema = z
  .string()
  .max(1000, { message: 'Опис не може бути довшим за 1000 символів' })
  .nullable()
  .optional();

/**
 * Схема валідації для іконки повноваження
 *
 * Правила:
 * - Мінімум 1 символ, максимум 50
 * - Тільки латинські літери та цифри
 * - Не може бути порожнім
 */
export const permissionIconSchema = z
  .string()
  .min(1, { message: 'Назва іконки не може бути порожньою' })
  .max(50, { message: 'Назва іконки не може бути довшою за 50 символів' })
  .regex(/^[A-Za-z0-9]+$/, {
    message: 'Назва іконки може містити тільки латинські літери та цифри',
  });
